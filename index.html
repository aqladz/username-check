<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Username Tool</title>

<style>
  body {
    margin: 0;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: #0b0b0f;
    color: #eaeaf0;
  }

  .container {
    max-width: 520px;
    margin: 40px auto;
    padding: 24px;
  }

  h1 {
    font-size: 22px;
    margin-bottom: 20px;
  }

  input {
    width: 100%;
    padding: 12px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    outline: none;
    background: #16161d;
    color: #fff;
  }

  .mode {
    margin: 16px 0;
    display: flex;
    gap: 18px;
    font-size: 14px;
  }

  .score {
    margin: 18px 0;
    padding: 14px;
    background: #16161d;
    border-radius: 10px;
    font-size: 14px;
  }

  .score strong {
    font-size: 18px;
  }

  button {
    width: 100%;
    padding: 12px;
    margin-top: 14px;
    background: linear-gradient(135deg,#7f5cff,#00d4ff);
    color: #000;
    border: none;
    border-radius: 10px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
  }

  .secondary {
    background: none;
    border: 1px dashed #333;
    color: #aaa;
  }

  .results {
    margin-top: 18px;
  }

  .item {
    background: #16161d;
    padding: 12px;
    border-radius: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    font-size: 15px;
  }

  .copy {
    font-size: 12px;
    color: #7f5cff;
    cursor: pointer;
  }
</style>
</head>

<body>
<div class="container">

  <h1>Username Tool</h1>

  <input id="baseInput" placeholder="Enter base name" />

  <div class="mode">
    <label><input type="radio" name="mode" value="self" checked /> Self Branding</label>
    <label><input type="radio" name="mode" value="brand" /> A Brand</label>
  </div>

  <div class="score" id="scoreBox" style="display:none;"></div>

  <button id="generateBtn">Generate</button>
  <button id="resetBtn" class="secondary">Reset Session</button>

  <div class="results" id="results"></div>

  <button id="moreBtn" class="secondary" style="display:none;">Generate 5 More</button>

</div>

<script>
  const used = new Set();

  // SELF BRANDING patterns (strict & clean)
  const selfPatterns = [
    b => b + "x",
    b => b + "z",
    b => b + "dz",
    b => b + "zz",
    b => b.slice(0,2) + "." + b.slice(2),
    b => b + "_x",
    b => "_" + b,
    b => "_" + b + "z",
    b => b + "01",
    b => b + "_01",
    b => b + "0"
  ];

  // BRAND patterns
  const brandPatterns = [
    b => b + "co",
    b => b + "studio",
    b => b + "official",
    b => b + "pro",
    b => b + "plus",
    b => "get" + b,
    b => b + "hq",
    b => b + ".com",
    b => b + ".io",
    b => b + ".app",
    b => b + "store"
  ];

  function scoreName(name, mode) {
    let score = 10;
    if (name.length > 12) score -= 2;
    if (name.length < 4) score -= 1;
    if (/[^a-z0-9._]/i.test(name)) score -= 2;
    if ((name.match(/_/g) || []).length > 1) score -= 1;
    return Math.max(5, score).toFixed(1);
  }

  function labelFromScore(score, mode) {
    if (score >= 8.5) return mode === "brand" ? "Strong Brand Name" : "Strong Personal Brand";
    if (score >= 7) return "Good Choice";
    return "Average";
  }

  // FINAL generator (guaranteed 5)
  function generateBatch(base, mode) {
    const pool = mode === "self" ? selfPatterns : brandPatterns;
    const out = [];
    let attempts = 0;
    let round = Math.floor(used.size / 5) + 1;

    while (out.length < 5 && attempts < 400) {
      let name = pool[Math.floor(Math.random() * pool.length)](base);

      if (used.has(name)) {
        if (mode === "brand") {
          name = name + round;
        } else {
          attempts++;
          continue;
        }
      }

      if (!used.has(name)) {
        used.add(name);
        out.push(name);
      }
      attempts++;
    }
    return out;
  }

  function render(names) {
    const box = document.getElementById("results");
    names.forEach(n => {
      const row = document.createElement("div");
      row.className = "item";

      const name = document.createElement("span");
      name.textContent = n;

      const copy = document.createElement("span");
      copy.className = "copy";
      copy.textContent = "Copy";
      copy.onclick = () => {
        navigator.clipboard.writeText(n);
        copy.textContent = "Copied ✓";
        setTimeout(() => copy.textContent = "Copy", 1000);
      };

      row.appendChild(name);
      row.appendChild(copy);
      box.appendChild(row);
    });
  }

  function generate(reset=false) {
    const base = document.getElementById("baseInput").value.trim().toLowerCase();
    if (!base) return;

    if (reset) {
      used.clear();
      document.getElementById("results").innerHTML = "";
    }

    const mode = document.querySelector("input[name=mode]:checked").value;
    const score = scoreName(base, mode);

    document.getElementById("scoreBox").style.display = "block";
    document.getElementById("scoreBox").innerHTML =
      `<strong>${score} / 10</strong> — ${labelFromScore(score, mode)}<br>
       ▣ Pronunciation ▣ Memorability ▣ Clean spelling ▣ Multi-platform`;

    render(generateBatch(base, mode));
    document.getElementById("moreBtn").style.display = "block";
  }

  document.getElementById("generateBtn").onclick = () => generate(true);
  document.getElementById("moreBtn").onclick = () => generate(false);
  document.getElementById("resetBtn").onclick = () => {
    used.clear();
    document.getElementById("results").innerHTML = "";
    document.getElementById("moreBtn").style.display = "none";
  };
</script>

</body>
</html>

